[
  {
    "name": "application_type",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["vos", "ise", "general"] },
    "label": "Application Type",
    "options": [
      { "value": "vos", "label": "Cisco VOS Application" },
      { "value": "ise", "label": "Cisco ISE Guest Portal" },
      { "value": "general", "label": "General Application" }
    ],
    "default": "vos"
  },
  {
    "name": "application_type_info",
    "type": "INFO",
    "conditional": {
      "field": "application_type",
      "value": "vos"
    },
    "description": "Includes: CUCM, CUC, IM&P, and other VOS-based systems. Uses API to automatically generate CSR and upload certificate after obtaining from SSL provider. Note: Without SSH enabled, users will need to manually restart Tomcat service after certificate installation."
  },
  {
    "name": "application_type_info_ise",
    "type": "INFO",
    "conditional": {
      "field": "application_type",
      "value": "ise"
    },
    "description": "Includes: Cisco Identity Services Engine for Guest and Sponsor portals. Requires manual CSR generation and certificate installation through ISE admin interface."
  },
  {
    "name": "application_type_info_general",
    "type": "INFO",
    "conditional": {
      "field": "application_type",
      "value": "general"
    },
    "description": "Includes: ESXi, other non-Cisco applications, or any system requiring certificate management. Requires manual CSR generation and certificate installation."
  },
  {
    "name": "name",
    "type": "TEXT",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Connection Name",
    "placeholder": "e.g., CUCM Primary, ISE Primary, ESXi Host"
  },
  {
    "name": "hostname",
    "type": "TEXT",
    "validator": { "name": "matches", "options": "^[a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?$" },
    "label": "Server Hostname",
    "placeholder": "e.g., cucm01-pub, cucm02-sub",
    "description": "Hostname only - do not include domain name (e.g., 'server01' not 'server01.domain.com')",
    "conditional": {
      "field": "application_type",
      "value": "vos"
    }
  },
  {
    "name": "hostname",
    "type": "TEXT",
    "validator": { "name": "matches", "options": "^(\\*|[a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?)?$" },
    "label": "Portal Hostname",
    "placeholder": "e.g., sponsor, guest1, * (wildcard), or leave blank",
    "description": "Portal hostname - can be a name, wildcard (*), or blank for domain-only certificates",
    "conditional": {
      "field": "application_type",
      "value": "ise"
    }
  },
  {
    "name": "hostname",
    "type": "TEXT",
    "validator": { "name": "matches", "options": "^[a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?$" },
    "label": "Server Hostname",
    "placeholder": "e.g., esxi01, server01",
    "description": "Hostname only - do not include domain name (e.g., 'server01' not 'server01.domain.com')",
    "conditional": {
      "field": "application_type",
      "value": "general"
    }
  },
  {
    "name": "username",
    "type": "TEXT",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Username",
    "placeholder": "VOS: administrator, ccmadmin | ISE: admin, iseadmin",
    "default": "administrator",
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "password",
    "type": "TEXT",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Password",
    "placeholder": "Server password",
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "domain",
    "type": "TEXT",
    "validator": { "name": "isFQDN", "options": { "allow_numeric_tld": true } },
    "label": "Domain Name",
    "placeholder": "e.g., automate.builders"
  },
  {
    "name": "ise_nodes",
    "type": "TEXT",
    "validator": { "name": "isAscii", "options": "" },
    "label": "ISE Nodes (for certificate installation)",
    "placeholder": "e.g., ise01.automate.builder, ise02.automate.builder (comma-separated)",
    "required": false,
    "optional": false,
    "conditional": {
      "field": "application_type",
      "value": "ise"
    }
  },
  {
    "name": "ise_certificate",
    "type": "TEXTAREA",
    "validator": { "name": "isAscii", "options": "" },
    "label": "CSR (PEM Format)",
    "placeholder": "-----BEGIN CERTIFICATE REQUEST-----\nPaste your Certificate Signing Request here\n-----END CERTIFICATE REQUEST-----",
    "required": false,
    "optional": false,
    "conditional": {
      "field": "application_type",
      "value": "ise"
    }
  },
  {
    "name": "ise_private_key",
    "type": "TEXTAREA",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Private Key (PEM Format)",
    "placeholder": "-----BEGIN PRIVATE KEY-----\nPaste your private key here\n-----END PRIVATE KEY-----",
    "required": false,
    "optional": false,
    "conditional": {
      "field": "application_type",
      "value": "ise"
    }
  },
  {
    "name": "custom_csr",
    "type": "TEXTAREA",
    "validator": { "name": "isAscii", "options": "" },
    "label": "CSR (Required for General Applications)",
    "placeholder": "-----BEGIN CERTIFICATE REQUEST-----\nPaste your Certificate Signing Request here\n-----END CERTIFICATE REQUEST-----",
    "required": false,
    "optional": false,
    "conditional": {
      "field": "application_type",
      "value": "general"
    }
  },
  {
    "name": "general_private_key",
    "type": "TEXTAREA",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Private Key (PEM Format)",
    "placeholder": "-----BEGIN PRIVATE KEY-----\nPaste your private key here\n-----END PRIVATE KEY-----",
    "required": false,
    "optional": false,
    "conditional": {
      "field": "application_type",
      "value": "general"
    }
  },
  {
    "name": "ssl_provider",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["letsencrypt", "zerossl"] },
    "label": "SSL Provider",
    "options": [
      { "value": "letsencrypt", "label": "Let's Encrypt" },
      { "value": "zerossl", "label": "ZeroSSL" }
    ],
    "default": "letsencrypt"
  },
  {
    "name": "dns_provider",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["cloudflare", "digitalocean", "route53", "azure", "google", "custom"] },
    "label": "DNS Provider",
    "options": [
      { "value": "cloudflare", "label": "Cloudflare" },
      { "value": "digitalocean", "label": "DigitalOcean" },
      { "value": "route53", "label": "AWS Route53" },
      { "value": "azure", "label": "Azure DNS" },
      { "value": "google", "label": "Google Cloud DNS" },
      { "value": "custom", "label": "Custom DNS (Manual)" }
    ],
    "default": "cloudflare"
  },
  {
    "name": "dns_challenge_mode",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["auto", "manual"] },
    "label": "DNS Challenge Mode",
    "options": [
      { "value": "auto", "label": "Automated (API)" },
      { "value": "manual", "label": "Manual" }
    ],
    "default": "auto",
    "description": "Choose 'Manual' to manually add DNS records even when using providers with API support",
    "conditional": {
      "field": "dns_provider",
      "value": "cloudflare"
    },
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "dns_challenge_mode",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["auto", "manual"] },
    "label": "DNS Challenge Mode",
    "options": [
      { "value": "auto", "label": "Automated (API)" },
      { "value": "manual", "label": "Manual" }
    ],
    "default": "auto",
    "description": "Choose 'Manual' to manually add DNS records even when using providers with API support",
    "conditional": {
      "field": "dns_provider",
      "value": "digitalocean"
    },
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "dns_challenge_mode",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["auto", "manual"] },
    "label": "DNS Challenge Mode",
    "options": [
      { "value": "auto", "label": "Automated (API)" },
      { "value": "manual", "label": "Manual" }
    ],
    "default": "auto",
    "description": "Choose 'Manual' to manually add DNS records even when using providers with API support",
    "conditional": {
      "field": "dns_provider",
      "value": "route53"
    },
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "dns_challenge_mode",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["auto", "manual"] },
    "label": "DNS Challenge Mode",
    "options": [
      { "value": "auto", "label": "Automated (API)" },
      { "value": "manual", "label": "Manual" }
    ],
    "default": "auto",
    "description": "Choose 'Manual' to manually add DNS records even when using providers with API support",
    "conditional": {
      "field": "dns_provider",
      "value": "azure"
    },
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "dns_challenge_mode",
    "type": "SELECT",
    "validator": { "name": "isIn", "options": ["auto", "manual"] },
    "label": "DNS Challenge Mode",
    "options": [
      { "value": "auto", "label": "Automated (API)" },
      { "value": "manual", "label": "Manual" }
    ],
    "default": "auto",
    "description": "Choose 'Manual' to manually add DNS records even when using providers with API support",
    "conditional": {
      "field": "dns_provider",
      "value": "google"
    },
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "alt_names",
    "type": "TEXT",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Alternative Names (SANs)",
    "placeholder": "e.g., server1.example.com, server2.example.com",
    "required": false,
    "optional": true
  },
  {
    "name": "enable_ssh",
    "type": "SWITCH",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Allow SSH",
    "description": "For testing and service management",
    "default": false,
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos"]
      }
    ]
  },
  {
    "name": "auto_restart_service",
    "type": "SWITCH",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Auto Restart Services",
    "description": "VOS: Restart 'Cisco Tomcat' | ISE: Restart application services after certificate installation. ISE does not have an auto restart services function.",
    "default": false,
    "conditional": {
      "field": "enable_ssh",
      "value": true
    }
  },
  {
    "name": "auto_renew",
    "type": "SWITCH",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Auto Renew Certificate",
    "description": "Automatically renew certificate 7 days before expiration at midnight",
    "default": false,
    "conditionalMultiple": [
      {
        "field": "application_type",
        "values": ["vos", "ise"]
      }
    ]
  },
  {
    "name": "is_enabled",
    "type": "SWITCH",
    "validator": { "name": "isAscii", "options": "" },
    "label": "Enable Connection",
    "description": "When disabled, connection will be hidden from dashboard but can still be managed",
    "default": true
  }
]